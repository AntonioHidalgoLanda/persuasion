<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Machine Dream</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--<link rel="stylesheet" type="text/css" href="/DreamingMachine/css/basic.css">-->
        <!-- Libraries-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <!-- Core Components -->
        <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/AntonioHidalgoLanda/jssimpleruleengine@master/JSObjects/rule.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/AntonioHidalgoLanda/jssimpleruleengine@master/JSObjects/guiFacts.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/AntonioHidalgoLanda/jssimpleruleengine@master/JSObjects/guiRule.js"></script>
        
        <!-- JS Objects -->
        <script type="text/javascript" src="JSObjects/inhabitant.js"></script>
        <script type="text/javascript" src="JSObjects/action.js"></script>
        <script type="text/javascript" src="JSObjects/room.js"></script>
        <!-- View -->
        <script type="text/javascript" src="JSView/baseView.js"></script>
    </head>
    <body>
        <a href="/pickuatest.html">link</a>
        <div id="gui-rules-div">
        </div>
        <div id="gui-rule-div">
            Loading...
        </div>
        <div id="gui-room-div">
            Loading...
        </div>
        
        
    </body>
    <!-- // This might go in a different file. We are using a Catolg from test -->
    <script type="text/javascript">
        var handlerLoadRule = function(rule, divId) {
            return function() {
                var rg = new RuleGUI(ruleSet[rule], fact, jQuery("#" + divId), {"Math": Math});
            };
        }
        
        var actions = {};
        var fact = {};
        fact.RS0_mainchar_000 = Inhabitant.createLeader();

        fact.RS0_inhabitant_000 = new Inhabitant();
        fact.RS0_inhabitant_001 = new Inhabitant();

        fact.RS0_action_000B = new Action("money");
        actions.RS0_action_000B = fact.RS0_action_000B;
        fact.RS0_action_000O = new Action("money",0);
        actions.RS0_action_000O = fact.RS0_action_000O;
        fact.RS0_action_001O = new Action("money", 0, 0);
        actions.RS0_action_001O = fact.RS0_action_001O;
        
        
        fact.RS0_inhabitant_001.header = "Unknown";
        fact.RS0_inhabitant_001.imageUri = "img/avatar1.png";
        
        var room = new Room();
        room.header = "Generic Room";
        room.dreamNeighbouhood();
        console.log("nodes");
        console.log(Room.nodes);
        console.log("links");
        console.log(Room.links);
        
        var guiFacts = new FactsGUI(fact, jQuery("#gui-rule-div"));
        
        var viewInhabitant = new BaseView("gui-rules-div", fact.RS0_mainchar_000, actions);
        viewInhabitant.setViewee(fact.RS0_inhabitant_001);
        
        var viewRoom = new BaseView("gui-room-div", fact.RS0_mainchar_000, actions);
        viewRoom.setViewee(room);
        
    </script>
</html>
